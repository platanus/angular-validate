/**
 * Angular Validation Framework
 * @version v1.0.0 - 2016-12-23
 * @link https://github.com/platanus/angular-validate
 * @author Ignacio Baixas <ignacio@platan.us>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"use strict";function c(a,b){for(var c,d=0,e=0,f=0,g=0,h=0,i=[],j=0,k=a.length;k>j;j++)c=a[j],g?"'"===c?g=g%2?0:1:"\\"===c?g++:g=1:"'"===c?g=1:"["===c?d++:"]"===c?d--:"{"===c?e++:"}"===c?e--:"("===c?f++:")"===c?f--:c!==b||d||f||e||(i.push(a.substring(h,j)),h=j+1);return d||f||e||g?null:(i.push(a.substring(h)),i)}var d={};a.module("platanus.validate",["platanus.inflector"]).directive("validate",["$parse","$injector","inflector",function(b,d,e){return{restrict:"AC",require:"ngModel",scope:!1,link:function(f,g,h,i){a.forEach(c(h.validate,","),function(c){var g=c.match(/^\s*(is\s+)?(.*?)(\s+as\s+([^\s]+))?\s*$/i),h={};if(g){if(g[3]&&(h.as=e.camelize(g[4])),g[1])h.dyn=b(g[2]);else{if(g=g[2].match(/^(\w[\w\d-]+)(?::(.*?))?$/),!g)return;h.as||(h.as=e.camelize(g[1])),h.fun=d.get(e.camelize(g[1],!0)+"Validator"),g[2]&&(h.dyn=b(g[2]))}i.$validators[h.as||"validate"]=function(b){var c=h.dyn?h.dyn(f,{$value:b}):[];return h.fun&&(a.isArray(c)||(c=[c]),c.unshift(b),c=h.fun.apply(null,c)),c}}})}}}]).directive("validationGroup",["$timeout",function(){return{restrict:"AC",require:"ngModel",link:function(c,e,f,g){var h=f.validationGroup,i=!1;"!"===h[0]&&(h=h.substr(1),i=!0);var j=d[h];j===b&&(j=d[f.validationGroup]=[]),j.push({model:g,always:i}),c.$watch(function(){return g.$viewValue},function(){g.$invalid||a.forEach(j,function(a){g!==a.model&&(a.always||a.model.$invalid)&&a.model.$validate()})}),e.on("$destroy",function(){for(var a=j.length-1;a>=0;a--)j[a]===g&&j.splice(a,1)})}}}]).constant("RequiredValidator",function(a){return!!a}).constant("MatchValidator",function(a,b){return a?new RegExp(b).test(a):!0})}(angular);